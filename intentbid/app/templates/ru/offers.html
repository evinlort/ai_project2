{% extends "base.html" %}

{% block content %}
<section class="card">
  <h2>Мои офферы</h2>
  <p class="muted">Запрос покупателя (RFO) и Оффер продавца помогают держать термины едиными.</p>
  <p class="muted">Отслеживайте результаты по каждому RFO.</p>
</section>

<section class="card" style="margin-top: 24px;">
  {% if offers %}
  <table>
    <thead>
      <tr>
        <th>RFO</th>
        <th>Цена</th>
        <th>Срок</th>
        <th>Гарантия</th>
        <th>Статус запроса</th>
        <th>Награда</th>
        <th>Статус</th>
      </tr>
    </thead>
    <tbody>
      {% for row in offers %}
      <tr>
        <td>{{ row.request.id }}</td>
        <td>{{ row.offer.price_amount }} {{ row.offer.currency }}</td>
        <td>{{ row.offer.delivery_eta_days }} дней</td>
        <td>{{ row.offer.warranty_months }} мес</td>
        <td>{{ row.request.status }}</td>
        <td>{{ "Получен" if row.is_awarded else "Ожидается" }}</td>
        <td class="status {{ row.status }}">
          {{ "выиграл" if row.status == "won" else "проиграл" }}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p class="muted">Пока нет офферов. Отправьте оффер из списка RFO.</p>
  {% endif %}
</section>
{% endblock %}
